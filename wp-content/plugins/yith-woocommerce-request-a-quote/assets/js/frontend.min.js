jQuery(document).ready(function(s){"use strict";var a=s("body"),e=(s(".add-request-quote-button"),s(".yith-ywraq-item-remove"));if(a.hasClass("single-product")){var t=s('[name|="product_id"]'),i=t.val(),r=s(".add-to-quote-"+i).find("a"),d=r.parents(".yith-ywraq-add-to-quote"),n=s('[name|="variation_id"]');n.on("change",function(){""==s(this).val()?r.parent().hide().removeClass("show"):s.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:"action=yith_ywraq_action&ywraq_action=variation_exist&variation_id="+n.val()+"&product_id="+t.val(),success:function(a){!0===a.result?(r.parent().hide().removeClass("show"),0==s(".yith_ywraq_add_item_browse-list-"+t.val()).length&&(d.append('<div class="yith_ywraq_add_item_response-'+t.val()+' yith_ywraq_add_item_response_message">'+a.message+"</div>"),d.append('<div class="yith_ywraq_add_item_browse-list-'+t.val()+' yith_ywraq_add_item_browse_message"><a href="'+a.rqa_url+'">'+a.label_browse+"</a></div>"))):(s(".yith_ywraq_add_item_response-"+t.val()).remove(),s(".yith_ywraq_add_item_browse-list-"+t.val()).remove(),r.parent().show().addClass("show"))}})})}s(document).on("click",".add-request-quote-button",function(a){a.preventDefault();var t=s(this),i=t.parents(".yith-ywraq-add-to-quote"),e="ac";if(0<t.parents("ul.products").length)var r=t.parents("li.product").find('input[name="add-to-cart"]'),d=t.parents("li.product").find('input[name="product_id"]');else r=t.parents(".product").find('input[name="add-to-cart"]'),d=t.parents(".product").find('input[name="product_id"]');0<r.length&&0<d.length?e=s(".cart").serialize():0<s(".cart").length&&(e=s(".cart").serialize()),0<(e+="&action=yith_ywraq_action&ywraq_action=add_item&product_id="+t.data("product_id")+"&wp_nonce="+t.data("wp_nonce")).indexOf("add-to-cart")&&(e=e.replace("add-to-cart","yith-add-to-cart")),s.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:e,beforeSend:function(){t.siblings(".ajax-loading").css("visibility","visible")},complete:function(){t.siblings(".ajax-loading").css("visibility","hidden")},success:function(a){if("true"==a.result||"exists"==a.result){t.parent().hide().removeClass("show").addClass("addedd");var e=void 0===d.val()?"":"-"+d.val();i.append('<div class="yith_ywraq_add_item_response'+e+' yith_ywraq_add_item_response_message">'+a.message+"</div>"),i.append('<div class="yith_ywraq_add_item_browse-list'+e+' yith_ywraq_add_item_browse_message"><a href="'+a.rqa_url+'">'+a.label_browse+"</a></div>")}else"false"==a.result&&i.append('<div class="yith_ywraq_add_item_response-'+d.val()+'">'+a.message+"</div>")}})}),e.on("click",function(a){a.preventDefault();var e,t=s(this),i=t.data("remove-item");s("#yith-ywraq-form");e="action=yith_ywraq_action&ywraq_action=remove_item&key="+t.data("remove-item")+"&wp_nonce="+t.data("wp_nonce")+"&product_id="+t.data("product_id"),s.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:e,beforeSend:function(){t.siblings(".ajax-loading").css("visibility","visible")},complete:function(){t.siblings(".ajax-loading").css("visibility","hidden")},success:function(a){1===a&&(s("[data-remove-item='"+i+"']").parents(".cart_item").remove(),0===s(".cart_item").length&&(s("#yith-ywraq-form, #yith-ywraq-mail-form, .yith-ywraq-mail-form-wrapper").remove(),s("#yith-ywraq-message").text(ywraq_frontend.no_product_in_list)))}})})});