jQuery(function(e){if("undefined"==typeof wc_cart_fragments_params)return!1;var t=!0,o=wc_cart_fragments_params.ajax_url.toString()+"-wc_cart_hash";try{t="sessionStorage"in window&&null!==window.sessionStorage,window.sessionStorage.setItem("wc","test"),window.sessionStorage.removeItem("wc"),window.localStorage.setItem("wc","test"),window.localStorage.removeItem("wc")}catch(e){t=!1}function a(){t&&sessionStorage.setItem("wc_cart_created",(new Date).getTime())}function n(e){t&&(localStorage.setItem(o,e),sessionStorage.setItem(o,e))}var r,s={url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","get_refreshed_fragments"),type:"POST",success:function(o){o&&o.fragments&&(e.each(o.fragments,function(t,o){e(t).replaceWith(o)}),t&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(o.fragments)),n(o.cart_hash),o.cart_hash&&a()),e(document.body).trigger("wc_fragments_refreshed"))}};function i(){e.ajax(s)}if(t){var c=null;e(document.body).on("wc_fragment_refresh updated_wc_div",function(){i()}),e(document.body).on("added_to_cart",function(e,t,r){var s=sessionStorage.getItem(o);null!==s&&void 0!==s&&""!==s||a(),sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(t)),n(r)}),e(document.body).on("wc_fragments_refreshed",function(){clearTimeout(c),c=setTimeout(i,864e5)}),e(window).on("storage onstorage",function(e){o===e.originalEvent.key&&localStorage.getItem(o)!==sessionStorage.getItem(o)&&i()}),e(window).on("pageshow",function(t){t.originalEvent.persisted&&(e(".widget_shopping_cart_content").empty(),e(document.body).trigger("wc_fragment_refresh"))});try{var g=e.parseJSON(sessionStorage.getItem(wc_cart_fragments_params.fragment_name)),_=sessionStorage.getItem(o),m=Cookies.get("woocommerce_cart_hash"),d=sessionStorage.getItem("wc_cart_created");if(null!==_&&void 0!==_&&""!==_||(_=""),null!==m&&void 0!==m&&""!==m||(m=""),_&&(null===d||void 0===d||""===d))throw"No cart_created";if(d){var w=1*d+864e5,f=(new Date).getTime();if(w<f)throw"Fragment expired";c=setTimeout(i,w-f)}if(!g||!g["div.widget_shopping_cart_content"]||_!==m)throw"No fragment";e.each(g,function(t,o){e(t).replaceWith(o)}),e(document.body).trigger("wc_fragments_loaded");var l=sessionStorage.getItem("pll_language"),u=(null!==(r=Cookies.get("pll_language"))&&void 0!==r&&""!==r||(r=""),r);if(null!==l&&void 0!==l&&""!==l||(l=""),!u)throw"Language not found";if(!l||l!==u)throw sessionStorage.setItem("pll_language",u),"Language changed"}catch(e){i()}}else i();Cookies.get("woocommerce_items_in_cart")>0?e(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show():e(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").hide(),e(document.body).on("adding_to_cart",function(){e(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show()})});