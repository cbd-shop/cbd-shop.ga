jQuery(document).ready(function(a){function g(){return{formatMatches:function(a){return 1===a?yith_wcaf.labels.select2_i18n_matches_1:yith_wcaf.labels.select2_i18n_matches_n.replace("%qty%",a)},formatNoMatches:function(){return yith_wcaf.labels.select2_i18n_no_matches},formatAjaxError:function(a,c,d){return yith_wcaf.labels.select2_i18n_ajax_error},formatInputTooShort:function(a,c){var b=c-a.length;return 1===b?yith_wcaf.labels.select2_i18n_input_too_short_1:yith_wcaf.labels.select2_i18n_input_too_short_n.replace("%qty%",
        b)},formatInputTooLong:function(a,c){var b=a.length-c;return 1===b?yith_wcaf.labels.select2_i18n_input_too_long_1:yith_wcaf.labels.select2_i18n_input_too_long_n.replace("%qty%",b)},formatSelectionTooBig:function(a){return 1===a?yith_wcaf.labels.select2_i18n_selection_too_long_1:yith_wcaf.labels.select2_i18n_selection_too_long_n.replace("%qty%",a)},formatLoadMore:function(a){return yith_wcaf.labels.select2_i18n_load_more},formatSearching:function(){return yith_wcaf.labels.select2_i18n_searching}}}
    a.fn.yith_wcaf_dashboard_commissions=function(){var b=a(this);b.find(":input.wc-product-search").filter(":not(.enhanced)").each(function(){var b={allowClear:!!a(this).data("allow_clear"),placeholder:a(this).data("placeholder"),minimumInputLength:a(this).data("minimum_input_length")?a(this).data("minimum_input_length"):"3",escapeMarkup:function(a){return a},ajax:{url:yith_wcaf.ajax_url,dataType:"json",quietMillis:250,data:function(a,b){return{term:a,action:"yith_wcaf_json_search_products_and_variations",
                security:yith_wcaf.search_products_nonce}},results:function(b,c){var d=[];b&&a.each(b,function(a,b){d.push({id:a,text:b})});return{results:d}},cache:!0},multiple:!1,initSelection:function(a,b){var c={id:a.val(),text:a.attr("data-selected")};return b(c)}};b=a.extend(b,g());a(this).select2(b).addClass("enhanced")});b.find(".datepicker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,beforeShow:function(b,d){a("#ui-datepicker-div").removeClass(function(){return a("input").get(0).id}).addClass("yith-wcaf-datepicker")}})};
    a.fn.yith_wcaf_dashboard_clicks=function(){a(this).find(".datepicker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,beforeShow:function(b,c){a("#ui-datepicker-div").removeClass(function(){return a("input").get(0).id}).addClass("yith-wcaf-datepicker")}})};a.fn.yith_wcaf_dashboard_payments=function(){a(this).find(".datepicker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,beforeShow:function(b,c){a("#ui-datepicker-div").removeClass(function(){return a("input").get(0).id}).addClass("yith-wcaf-datepicker")}})};
    a.fn.yith_wcaf_dashboard_withdraw=function(){var b=a(this),c=a("#withdraw_from"),d=a("#withdraw_to");c.add(d).on("change",function(){var e=c.val(),f=d.val();e&&f&&a.ajax({type:"POST",url:yith_wcaf.ajax_url,data:{action:"get_withdraw_amount",withdraw_from:e,withdraw_to:f,security:yith_wcaf.get_withdraw_amount},beforeSend:function(){b.find(".information-panel").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){b.find(".information-panel").unblock()},success:function(a){b.find(".withdraw-current-total").html(a)},
        dataType:"html"})});b.find(".datepicker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,beforeShow:function(b,c){a("#ui-datepicker-div").removeClass(function(){return a("input").get(0).id}).addClass("yith-wcaf-datepicker")}})};a.fn.yith_wcaf_generate_link=function(){a(this).find(".copy-trigger").on("click",function(b){b=a(this).parents("p").find(".copy-target");0<b.length&&(b.is("input")?(b.select(),document.execCommand("copy")):(b=a("<input/>",{val:b.text(),type:"text"}),
        a("body").append(b),b.select(),document.execCommand("copy"),b.remove()),a(document).triggerHandler("yith_wcaf_hide_link_copied_alert")||alert(yith_wcaf.labels.link_copied_message))})};a.fn.yith_wcaf_registration_form=function(){var b=a(this),c=b.find("#how_promote"),d=b.find("#custom_promote").closest(".form-row");c.length&&c.on("change",function(){"others"===a(this).val()?d.show():d.hide()}).change()};a.fn.yith_wcaf_set_referrer=function(){var b=a(this);b.on("click","a.show-referrer-form",function(a){a.preventDefault();
        b.find("form").slideToggle()});b.on("submit","form.referrer-form",function(b){var c=a(this),e={action:"yith_wcaf_set_referrer",referrer_token:c.find('input[name="referrer_code"]').val(),security:yith_wcaf.set_referrer_nonce};b.preventDefault();c.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});a.ajax({type:"POST",url:yith_wcaf.ajax_url,data:e,success:function(b){a(".woocommerce-error, .woocommerce-message").remove();c.removeClass("processing").unblock();b&&(c.before(b).find('input[name="referrer_code"]').prop("disabled"),
            c.slideUp())},dataType:"html"});return!1})};a(".yith-wcaf-commissions").yith_wcaf_dashboard_commissions();a(".yith-wcaf-clicks").yith_wcaf_dashboard_clicks();a(".yith-wcaf-payments").yith_wcaf_dashboard_payments();a(".yith-wcaf-withdraw").yith_wcaf_dashboard_withdraw();a(".yith-wcaf-set-referrer").yith_wcaf_set_referrer();a(".yith-wcaf-link-generator").yith_wcaf_generate_link();a(".yith-wcaf-registration-form").add(".woocommerce-form-register").add(".yith-wcaf-settings").yith_wcaf_registration_form()});